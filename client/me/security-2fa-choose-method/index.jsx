/** @format */

/**
 * External dependencies
 */
import { localize } from 'i18n-calypso';
import React from 'react';
import debugFactory from 'debug';

/**
 * Internal dependencies
 */
import FormButton from 'components/forms/form-button';
import FormButtonsBar from 'components/forms/form-buttons-bar';
import Security2faProgress from 'me/security-2fa-progress';
import analytics from 'lib/analytics';

/**
 * Style dependencies
 */
import './style.scss';

const debug = debugFactory( 'calypso:me:security:2fa-sms-choose-method' );

class Security2faChooseMethod extends React.Component {
	static displayName = 'Security2faChooseMethod';

	componentDidMount() {
		debug( this.constructor.displayName + ' React component is mounted.' );
	}

	componentWillUnmount() {
		debug( this.constructor.displayName + ' React component will unmount.' );
	}

	onVerifyByApp( event ) {
		event.preventDefault();
		this.props.onVerifyByApp();
	}

	onVerifyBySMS( event ) {
		event.preventDefault();
		this.props.onVerifyBySMS();
	}

	render() {

		return (
			<div>

					<form>
						<Security2faProgress step={ 2 } />
						<p>
							{ this.props.translate(
								'Next, choose how you would like to verify. ' +
								'Passcodes can be sent via SMS text message or ' +
								'generated by an app on your mobile device.'
							) }
						</p>
						<FormButtonsBar className="security-2fa-choose-method__buttons">
							<FormButton
								onClick={ function( event ) {
									analytics.ga.recordEvent( 'Me', 'Clicked On 2fa Use App Button' );
									this.onVerifyByApp( event );
								}.bind( this ) }
							>
								{ this.props.translate( 'Verify via App' ) }
							</FormButton>

							<FormButton
								isPrimary={ false }
								onClick={ function( event ) {
									analytics.ga.recordEvent( 'Me', 'Clicked On 2fa Use SMS Button' );
									this.onVerifyBySMS( event );
								}.bind( this ) }
							>
								{ this.props.translate( 'Verify via SMS' ) }
							</FormButton>

							<FormButton
								className="security-2fa-choose-method__cancel-button"
								isPrimary={ false }
								onClick={ function( event ) {
									analytics.ga.recordEvent( 'Me', 'Clicked On Step 1 2fa Cancel Button' );
									this.props.onCancel( event );
								}.bind( this ) }
							>
								{ this.props.translate( 'Cancel' ) }
							</FormButton>
						</FormButtonsBar>
					</form>
			</div>
		);
	}
}
export default localize( Security2faChooseMethod );
